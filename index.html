<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OUR LOVE STORY - çºªå¿µæ‚å¿—</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Didot:wght@400;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/magazine.css">
    <style>
        /* Inline specific styles for Cover animations if needed */
        .shake { animation: shake 0.5s; }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
    </style>
</head>
<body>

    <!-- SECTION 1: COVER & LOGIN -->
    <section id="loginSection" class="cover-layout">
        <!-- Decorative Background Elements -->
        <div class="bg-deco-circle" style="width: 600px; height: 600px; top: -100px; right: -100px;"></div>
        <div class="bg-deco-circle" style="width: 400px; height: 400px; bottom: -50px; left: -50px;"></div>

        <div class="cover-content fade-in">
            <header class="masthead">
                <h1 class="masthead-title">OUR MEMORY</h1>
                <div class="masthead-subtitle">LOVE COMMEMORATIVE MAGAZINE</div>
            </header>

            <div class="login-form">
                <p style="color: var(--text-light); margin-bottom: 10px;">è¯·è¾“å…¥è®¿é—®å¯†ç </p>

                <div class="input-group">
                    <input type="password" id="passwordInput" placeholder="â— â— â— â— â— â—" maxlength="6">
                </div>

                <div id="loginError" class="error-msg"></div>

                <button id="btnLogin" class="btn btn-primary" style="width: 100%; margin-top: 10px;">
                    OPEN MAGAZINE
                </button>
            </div>

            <div style="margin-top: 30px; font-size: 0.8rem; color: #aaa;">
                EST. 2025.11.05
            </div>
        </div>
    </section>

    <!-- SECTION 2: TABLE OF CONTENTS (Revealed after login) -->
    <section id="tocSection" class="toc-section hidden">
        <div class="toc-header fade-in">
            <h2 class="toc-title">ç›®å½• CONTENTS</h2>
            <p style="color: var(--text-light); letter-spacing: 2px; margin-top: 10px;">ISSUE 01: BEGINNING</p>
        </div>

        <div class="toc-grid fade-in" style="animation-delay: 0.2s;">

            <!-- Card 1: Manga -->
            <a href="manga.html" class="toc-card">
                <div class="card-img" style="background-image: url('image/cover.png'); background-color: #ffeef0;">
                    <div class="card-icon">ğŸ“–</div>
                </div>
                <div class="card-content">
                    <div>
                        <h3 class="card-title">æ¼«ç”»æ‹çˆ±å²</h3>
                        <p class="card-desc">ä»åˆè¯†åˆ°ç›¸çˆ±ï¼Œæ¯ä¸€ä¸ªå¿ƒåŠ¨ç¬é—´çš„æ¼«ç”»è®°å½•ã€‚</p>
                    </div>
                    <div class="card-footer">
                        READ STORY <span>â†’</span>
                    </div>
                </div>
            </a>

            <!-- Card 2: Games -->
            <a href="game.html" class="toc-card">
                <div class="card-img" style="background-color: #f0f7ff;">
                    <div class="card-icon">ğŸ®</div>
                </div>
                <div class="card-content">
                    <div>
                        <h3 class="card-title">æ¸¸æˆç« èŠ‚</h3>
                        <p class="card-desc">åŒ…å«â€œå·¥å…·å½’ä½â€ä¸å…¨æ–°çš„â€œæ°´æœæ´¾å¯¹â€æŒ‘æˆ˜ã€‚</p>
                    </div>
                    <div class="card-footer">
                        PLAY NOW <span>â†’</span>
                    </div>
                </div>
            </a>

            <!-- Card 3: Future -->
            <div class="toc-card" style="cursor: default;">
                <div class="card-img" style="background-color: #f9f9f9;">
                    <div class="card-icon" style="color: #ccc;">ğŸš§</div>
                </div>
                <div class="card-content">
                    <div>
                        <h3 class="card-title" style="color: #999;">å¾…å¼€å‘</h3>
                        <p class="card-desc">æ›´å¤šç²¾å½©å†…å®¹æ­£åœ¨ç­–åˆ’ä¸­ï¼Œæ•¬è¯·æœŸå¾…...</p>
                    </div>
                    <div class="card-footer" style="color: #ccc;">
                        COMING SOON
                    </div>
                </div>
            </div>

        </div>

        <!-- Global Love Timer Footer -->
        <div id="loveTimer" style="margin-top: 50px; text-align: center; color: var(--text-light);">
            <!-- Injected by JS -->
        </div>
    </section>

    <script src="js/seasons.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const passwordInput = document.getElementById('passwordInput');
            const btnLogin = document.getElementById('btnLogin');
            const loginError = document.getElementById('loginError');
            const loginSection = document.getElementById('loginSection');
            const tocSection = document.getElementById('tocSection');

            // 1. Check Session
            if (sessionStorage.getItem('isLoggedIn') === 'true') {
                showTOC(false);
            }

            // 2. Login Logic
            function login() {
                if (passwordInput.value === '251105') {
                    sessionStorage.setItem('isLoggedIn', 'true');
                    showTOC(true);
                } else {
                    loginError.textContent = "å¯†ç é”™è¯¯ (Hint: 251105)";
                    passwordInput.classList.add('shake');
                    setTimeout(() => passwordInput.classList.remove('shake'), 500);
                }
            }

            function showTOC(animate) {
                if(animate) {
                    loginSection.style.opacity = '0';
                    loginSection.style.transition = 'opacity 0.5s';
                    setTimeout(() => {
                        loginSection.classList.add('hidden');
                        tocSection.classList.remove('hidden');
                    }, 500);
                } else {
                    loginSection.classList.add('hidden');
                    tocSection.classList.remove('hidden');
                }
            }

            btnLogin.addEventListener('click', login);
            passwordInput.addEventListener('keypress', (e) => {
                if(e.key === 'Enter') login();
            });
        });
    </script>
</body>
</html>
